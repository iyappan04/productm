{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Header from \"@/components/Header.vue\";\nimport axios from 'axios';\nexport default {\n  name: \"HomeView\",\n  components: {\n    Header\n  },\n  data() {\n    return {\n      posts: [],\n      loading: false,\n      page: 1\n    };\n  },\n  created() {\n    this.loadPosts();\n    window.addEventListener('scroll', this.handleScroll);\n  },\n  methods: {\n    // async loadPostsreverse() {\n    //     this.loading = true;\n    //     try {\n    //         const response = await axios.get(`http://127.0.0.1:8000/posts/?page=${this.page}`);\n    //         console.log(response.data.results);\n    //         this.posts = response.data.results;\n    //         this.page--;\n    //     } catch (error) {\n    //         console.error('Error fetching posts:', error);\n    //     }\n    //     this.loading = false;\n    // },\n\n    async loadPosts() {\n      this.loading = true;\n      try {\n        const response = await axios.get(`http://127.0.0.1:8000/posts/?page=${this.page}`);\n        // console.log(response.data.results);\n        this.posts.push(...response.data.results);\n        this.page++;\n      } catch (error) {\n        console.error('Error fetching posts:', error);\n      }\n      this.loading = false;\n    },\n    handleScroll() {\n      console.log(window.innerHeight + window.scrollY >= document.body.offsetHeight - 1);\n      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 1) {\n        this.loadPosts();\n      }\n    }\n  },\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n};","map":{"version":3,"names":["Header","axios","name","components","data","posts","loading","page","created","loadPosts","window","addEventListener","handleScroll","methods","response","get","push","results","error","console","log","innerHeight","scrollY","document","body","offsetHeight","beforeDestroy","removeEventListener"],"sources":["/home/iyappan/Downloads/backend_repo/uinew/src/views/Products.vue"],"sourcesContent":["<template>\n  <div class=\"\">\n    \n    <Header/>\n\n\n    <div\n      class=\"px-6 lg:px-10 py-5 flex flex-col gap-4 items-center justify-center\"\n    >\n      <div class=\"container mx-auto max-w-7xl px-4\">\n        <div class=\"grid lg:grid-cols-3 gap-10\">\n          <!-- {{ posts }} -->\n          <div v-for=\"i in posts\" :key=\"i\">\n            <router-link :to=\"{ name: 'product', params: { id: i.id }}\"\n              class=\"flex flex-col gap-2 text-sm border-[2px] rounded-2xl\" \n            >\n              <!-- <img\n                class=\"rounded-2xl\"\n                src=\"https://media.istockphoto.com/id/1190555610/vector/artificial-intelligence-of-modern-technology-brain-in-laptop.jpg?s=612x612&w=0&k=20&c=SqfO6Lvq2tPISnwlzrdVJArDZKBeTAPaNQU2fuST3Yc=\"\n                alt=\"\"\n              /> -->\n              <div class=\"flex items-center justify-center py-20\">\n                <img width=\"50\" height=\"50\" src=\"https://img.icons8.com/ios/50/product.png\" alt=\"product\"/>\n              </div>\n\n              <div class=\"bg-gray-200 w-[100%] h-[3px]\"></div>\n\n              <div class=\"px-6 pb-5 flex flex-col gap-2\"> \n                <h3 class=\"text-sm font-bold pt-2\">{{i.text}}</h3>\n                <p class=\"text-xs\">\n                  {{i.timestamp}}\n                </p>\n                {{ i.user_details }}\n              </div>\n            \n            </router-link>\n          </div>\n\n\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport Header from \"@/components/Header.vue\";\nimport axios from 'axios';\n\nexport default {\n  name: \"HomeView\",\n\n    components: {\n      Header\n    },\n\n    data() {\n        return {\n            posts: [],\n            loading: false,\n            page: 1,\n        };\n    },\n    created() {\n        this.loadPosts();\n        window.addEventListener('scroll', this.handleScroll);\n    },\n\n     methods: {\n\n        // async loadPostsreverse() {\n        //     this.loading = true;\n        //     try {\n        //         const response = await axios.get(`http://127.0.0.1:8000/posts/?page=${this.page}`);\n        //         console.log(response.data.results);\n        //         this.posts = response.data.results;\n        //         this.page--;\n        //     } catch (error) {\n        //         console.error('Error fetching posts:', error);\n        //     }\n        //     this.loading = false;\n        // },\n\n        async loadPosts() {\n            this.loading = true;\n            try {\n                const response = await axios.get(`http://127.0.0.1:8000/posts/?page=${this.page}`);\n                // console.log(response.data.results);\n                this.posts.push(...response.data.results);\n                this.page++;\n            } catch (error) {\n                console.error('Error fetching posts:', error);\n            }\n            this.loading = false;\n        },\n        handleScroll() {\n            console.log(window.innerHeight + window.scrollY >= document.body.offsetHeight - 1);\n            if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 1) {\n                this.loadPosts();\n            }\n        }\n    },\n    beforeDestroy() {\n        window.removeEventListener('scroll', this.handleScroll);\n    }\n};\n</script>\n"],"mappings":";AAgDA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAEdC,UAAU,EAAE;IACVH;EACF,CAAC;EAEDI,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,KAAK;MACdC,IAAI,EAAE;IACV,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,SAAS,CAAC,CAAC;IAChBC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,YAAY,CAAC;EACxD,CAAC;EAEAC,OAAO,EAAE;IAEN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA,MAAMJ,SAASA,CAAA,EAAG;MACd,IAAI,CAACH,OAAM,GAAI,IAAI;MACnB,IAAI;QACA,MAAMQ,QAAO,GAAI,MAAMb,KAAK,CAACc,GAAG,CAAC,qCAAqC,IAAI,CAACR,IAAI,EAAE,CAAC;QAClF;QACA,IAAI,CAACF,KAAK,CAACW,IAAI,CAAC,GAAGF,QAAQ,CAACV,IAAI,CAACa,OAAO,CAAC;QACzC,IAAI,CAACV,IAAI,EAAE;MACf,EAAE,OAAOW,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD;MACA,IAAI,CAACZ,OAAM,GAAI,KAAK;IACxB,CAAC;IACDM,YAAYA,CAAA,EAAG;MACXO,OAAO,CAACC,GAAG,CAACV,MAAM,CAACW,WAAU,GAAIX,MAAM,CAACY,OAAM,IAAKC,QAAQ,CAACC,IAAI,CAACC,YAAW,GAAI,CAAC,CAAC;MAClF,IAAIf,MAAM,CAACW,WAAU,GAAIX,MAAM,CAACY,OAAM,IAAKC,QAAQ,CAACC,IAAI,CAACC,YAAW,GAAI,CAAC,EAAE;QACvE,IAAI,CAAChB,SAAS,CAAC,CAAC;MACpB;IACJ;EACJ,CAAC;EACDiB,aAAaA,CAAA,EAAG;IACZhB,MAAM,CAACiB,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACf,YAAY,CAAC;EAC3D;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}